(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(373)},220:function(e,t,a){},373:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),i=(a(220),a(22)),c=a(23),l=a(25),u=a(24),m=a(9),d=a(26),h=a(56),p=a(133),g=a(28),f=a.n(g),b=a(16),w=a(17),v=a.n(w),E=a(31),x=a.n(E),T=a(135),k=a.n(T),S=a(30),y=a.n(S),j=a(20),P=a(21),O=a.n(P),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:a.props.context.username,errorText:""},a.handleUsername=a.handleUsername.bind(Object(m.a)(a)),a.handleNext=a.handleNext.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleUsername",value:function(e){var t=e.target.value;this.setState({username:t,errorText:""},function(){})}},{key:"handleNext",value:function(e){var t=this;e.preventDefault(),this.state.username?f.a.post("http://localhost:8080/checkUsername",this.state).then(function(e){t.props.context.handleUsername(e.data.username),t.props.context.handleAvatar(e.data.avatar),t.props.context.togglePassword()}).catch(function(e){t.setState({errorText:e.response.data.err})}):this.setState({errorText:"Username is required"})}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.context.classes.container},r.a.createElement(O.a,{component:"h1",variant:"h6"},"Sign in"),r.a.createElement(O.a,{component:"h6",variant:"subtitle1"},"using FogFind Account"),r.a.createElement("form",{method:"post",onSubmit:this.handleNext},r.a.createElement(v.a,{id:"username",label:"Username or Email",type:"text",name:"username",margin:"dense",variant:"outlined",fullWidth:!0,error:0!==this.state.errorText.length,helperText:this.state.errorText,value:this.state.username,onChange:this.handleUsername})),r.a.createElement(j.b,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(y.a,{className:this.props.context.classes.button,onClick:this.props.context.handleSignupToggle},"Create account"),r.a.createElement(x.a,{variant:"outlined",color:"primary",className:this.props.context.classes.button,onClick:this.handleNext},"Next",r.a.createElement(k.a,{className:this.props.context.classes.rightIcon}))))}}]),t}(r.a.Component),U=function(e){return r.a.createElement(M.Consumer,null,function(e){return r.a.createElement(C,{context:e})})},N=a(87),A=a.n(N),I=a(136),F=a(139),L=a.n(F),R=a(52),D=a.n(R),W=a(53),z=a.n(W),B=a(138),q=a.n(B),J=a(137),_=a.n(J),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={password:a.props.context.password,showPassword:!1},a.handlePassword=a.handlePassword.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleShowPassword=a.handleShowPassword.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handlePassword",value:function(e){var t=this,a=e.target.value;this.setState({password:a},function(){t.props.context.clearPasswordError()})}},{key:"handleShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"handleSubmit",value:function(){var e=Object(I.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.context.handlePassword(this.state.password);case 3:this.props.context.handleSubmit();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.context.classes.container},r.a.createElement(j.b,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center"},r.a.createElement(j.a,{className:this.props.context.classes.avatar},this.props.context.avatar),r.a.createElement(O.a,{component:"h2",variant:"h6"},"Welcome ",this.props.context.username)),r.a.createElement("form",{method:"post",onSubmit:this.handleSubmit},r.a.createElement(v.a,{id:"password",label:"Password",type:this.state.showPassword?"text":"password",name:"password",margin:"dense",variant:"outlined",autoFocus:!0,fullWidth:!0,error:0!==this.props.context.errorText.length,helperText:this.props.context.errorText,value:this.state.password,onChange:this.handlePassword,InputProps:{endAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(z.a,{"aria-label":"Toggle password visibility",onClick:this.handleShowPassword},this.state.showPassword?r.a.createElement(_.a,null):r.a.createElement(q.a,null)))}})),r.a.createElement(j.b,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(y.a,{className:this.props.context.classes.button,onClick:this.props.context.togglePassword},r.a.createElement(j.b,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(L.a,{className:this.props.context.classes.iconSmall}),"Back")),r.a.createElement(x.a,{variant:"outlined",color:"primary",className:this.props.context.classes.button,onClick:this.handleSubmit},"Submit")))}}]),t}(r.a.Component),H=function(e){return r.a.createElement(M.Consumer,null,function(e){return r.a.createElement(G,{context:e})})},K=a(54),M=r.a.createContext({}),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",passwordToggle:!1,ipDetails:"",avatar:"FF",errorText:""},a.handleUsername=a.handleUsername.bind(Object(m.a)(a)),a.handlePassword=a.handlePassword.bind(Object(m.a)(a)),a.clearPasswordError=a.clearPasswordError.bind(Object(m.a)(a)),a.togglePassword=a.togglePassword.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleAvatar=a.handleAvatar.bind(Object(m.a)(a)),f.a.get("http://api.ipstack.com/check?access_key=5990a130f9d59f70be57812db0174f65").then(function(e){a.setState({ipDetails:e.data})}).catch(function(e){console.log(e)}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleUsername",value:function(e){var t=this;this.setState({username:e},function(){console.log("username change -> "+t.state.username)})}},{key:"handleAvatar",value:function(e){this.setState({avatar:e.toUpperCase()})}},{key:"togglePassword",value:function(){this.setState({passwordToggle:!this.state.passwordToggle})}},{key:"handlePassword",value:function(e){var t=this;this.setState({password:e},function(){console.log("Password change -> "+t.state.password)})}},{key:"clearPasswordError",value:function(){""!==this.state.errorText&&this.setState({errorText:""})}},{key:"handleSubmit",value:function(){var e=this;this.state.password?f.a.post("http://localhost:8080",{username:this.state.username,password:this.state.password,localization:navigator.language,ip_details:this.state.ipDetails}).then(function(e){alert("Token Generated :\n"+e.data.token)}).catch(function(t){e.setState({errorText:t.response.data.err})}):this.setState({errorText:"Password is required"})}},{key:"render",value:function(){var e=this;return r.a.createElement(oe.Consumer,null,function(t){return r.a.createElement(M.Provider,{value:Object(p.a)({},e.state,{handleUsername:e.handleUsername,handlePassword:e.handlePassword,handleSubmit:e.handleSubmit,togglePassword:e.togglePassword,clearPasswordError:e.clearPasswordError,handleSignupToggle:t,handleAvatar:e.handleAvatar,classes:e.props.classes})},r.a.createElement("div",null,!e.state.passwordToggle&&r.a.createElement(U,null),e.state.passwordToggle&&r.a.createElement(H,null)))})}}]),t}(r.a.Component),V=Object(b.withStyles)(function(e){return Object(b.createStyles)({container:{textAlign:"center",width:"100%"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},button:{margin:e.spacing.unit,cursor:"pointer"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},avatar:{margin:10,width:90,height:90,color:"#fff",backgroundColor:K.deepPurple[500],fontSize:"35px"}})})(Q),X=a(7),Y=a.n(X),Z=a(86),$=a.n(Z),ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={email:"",firstname:"",lastname:"",username:"",password:"",confPassword:"",emailErrorText:"",firstnameErrorText:"",lastnameErrorText:"",usernameErrorText:"",passwordErrorText:"",confirmPasswordErrorText:"",checkusernametoggle:!0,checkemailtoggle:!0},a.handleEmail=a.handleEmail.bind(Object(m.a)(a)),a.handleFirstname=a.handleFirstname.bind(Object(m.a)(a)),a.handleLastname=a.handleLastname.bind(Object(m.a)(a)),a.handleUsername=a.handleUsername.bind(Object(m.a)(a)),a.handlePassword=a.handlePassword.bind(Object(m.a)(a)),a.handleConfPassword=a.handleConfPassword.bind(Object(m.a)(a)),a.handleCreateAccount=a.handleCreateAccount.bind(Object(m.a)(a)),a.checkUsername=a.checkUsername.bind(Object(m.a)(a)),a.checkEmail=a.checkEmail.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleEmail",value:function(e){var t=e.target.value;this.setState({email:t,emailErrorText:""})}},{key:"handleFirstname",value:function(e){var t=e.target.value;this.setState({firstname:t,firstnameErrorText:""})}},{key:"handleLastname",value:function(e){var t=e.target.value;this.setState({lastname:t,lastnameErrorText:""})}},{key:"handleUsername",value:function(e){var t=e.target.value;this.setState({username:t,usernameErrorText:""})}},{key:"handlePassword",value:function(e){var t=e.target.value;this.setState({password:t,passwordErrorText:""})}},{key:"handleConfPassword",value:function(e){var t=e.target.value;this.setState({confPassword:t,confirmPasswordErrorText:""})}},{key:"checkUsername",value:function(){var e=this;""!==this.state.username&&f.a.post("http://localhost:8080/checkUsernameAvailability",this.state).then(function(t){e.setState({checkusernametoggle:!1,usernameErrorText:t.data.success})}).catch(function(t){e.setState({checkusernametoggle:!0,usernameErrorText:t.response.data.err})})}},{key:"checkEmail",value:function(){var e=this;""!==this.state.email&&f.a.post("http://localhost:8080/checkEmailAvailability",this.state).then(function(t){e.setState({checkemailtoggle:!1,emailErrorText:t.data.success})}).catch(function(t){e.setState({checkemailtoggle:!0,emailErrorText:t.response.data.err})})}},{key:"handleCreateAccount",value:function(){var e=this;this.state.password===this.state.confPassword?f.a.post("http://localhost:8080/signup",this.state).then(function(e){console.log(e),alert(e.data.success)}).catch(function(t){t.response.data.forEach(function(t){switch(t.name){case"email":e.setState({checkemailtoggle:!0,emailErrorText:t.err});break;case"firstname":e.setState({firstnameErrorText:t.err});break;case"lastname":e.setState({lastnameErrorText:t.err});break;case"username":e.setState({checkusernametoggle:!0,usernameErrorText:t.err});break;case"password":e.setState({passwordErrorText:t.err,confirmPasswordErrorText:"Confirm "+t.err})}})}):""===this.state.confPassword?this.setState({confirmPasswordErrorText:"Confirm your password"}):this.setState({confirmPasswordErrorText:"Confirm password not matching"})}},{key:"render",value:function(){var e=this;return r.a.createElement(oe.Consumer,null,function(t){return r.a.createElement("div",{className:e.props.classes.container},r.a.createElement(O.a,{component:"h1",variant:"h6"},"Create your FogFind Account"),r.a.createElement(j.b,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center"},r.a.createElement(j.b,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(v.a,{id:"firstname",label:"Firstname",type:"text",name:"firstname",autoComplete:"off",margin:"dense",variant:"outlined",error:0!==e.state.firstnameErrorText.length,helperText:e.state.firstnameErrorText,value:e.state.firstname,onChange:e.handleFirstname}),r.a.createElement(v.a,{id:"lastname",label:"Lastname",type:"text",name:"lastname",autoComplete:"off",margin:"dense",variant:"outlined",error:0!==e.state.lastnameErrorText.length,helperText:e.state.lastnameErrorText,value:e.state.lastname,onChange:e.handleLastname})),r.a.createElement(v.a,{id:"username",label:"Username",type:"text",name:"username",autoComplete:"off",margin:"dense",variant:"outlined",error:!(!e.state.checkusernametoggle||0===e.state.usernameErrorText.length),helperText:e.state.usernameErrorText,value:e.state.username,fullWidth:!0,onBlur:e.checkUsername,onChange:e.handleUsername}),r.a.createElement(v.a,{id:"email",label:"Email",type:"text",name:"email",autoComplete:"off",margin:"dense",variant:"outlined",error:!(!e.state.checkemailtoggle||0===e.state.emailErrorText.length),helperText:e.state.emailErrorText,value:e.state.email,fullWidth:!0,onBlur:e.checkEmail,onChange:e.handleEmail}),r.a.createElement(j.b,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(v.a,{id:"password",label:"Password",type:"password",name:"password",autoComplete:"off",margin:"dense",variant:"outlined",error:0!==e.state.passwordErrorText.length,helperText:e.state.passwordErrorText,value:e.state.password,onChange:e.handlePassword}),r.a.createElement(v.a,{id:"confpassword",label:"Confirm",type:"password",name:"confpassword",autoComplete:"off",margin:"dense",variant:"outlined",error:0!==e.state.confirmPasswordErrorText.length,helperText:e.state.confirmPasswordErrorText,value:e.state.confPassword,onChange:e.handleConfPassword}))),r.a.createElement(j.b,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(y.a,{className:e.props.classes.button,onClick:t},"Have account?"),r.a.createElement(x.a,{variant:"outlined",color:"primary",className:e.props.classes.button,onClick:e.handleCreateAccount},"Create Account")))})}}]),t}(r.a.Component),te=Y()(function(e){return $()({container:{textAlign:"center",width:"100%"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},button:{margin:e.spacing.unit,cursor:"pointer"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20}})})(ee),ae=a(55),ne=a.n(ae),re=a(41),se=a.n(re),oe=r.a.createContext({}),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={signupToggle:!1},a.handleSignupToggle=a.handleSignupToggle.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleSignupToggle",value:function(){this.setState({signupToggle:!this.state.signupToggle})}},{key:"render",value:function(){return r.a.createElement(oe.Provider,{value:this.handleSignupToggle},r.a.createElement("main",{className:this.props.classes.main},r.a.createElement(ne.a,null),r.a.createElement(se.a,{className:this.props.classes.paper,elevation:20},r.a.createElement("div",{className:this.props.classes.form},!this.state.signupToggle&&r.a.createElement(V,null),this.state.signupToggle&&r.a.createElement(te,null)))))}}]),t}(r.a.Component),ce=Object(b.withStyles)(function(e){return Object(b.createStyles)({main:Object(h.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:450,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:16*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(1*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px"),borderRadius:7},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit}})})(ie);o.a.render(r.a.createElement(ce,null),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.98fada4f.chunk.js.map